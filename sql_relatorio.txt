Select * from Encomenda  where estado_enc = 1;
Select CIDADE_END_OBJCOD_OBJBASE FROM ENDERECO WHERE OBJCOD_OBJBASE = (SELECT ENDERECOORIGEM_ENC FROM Encomenda  where estado_enc = 1);

SELECT C.NOME_CID, E.LOGRADOURO_END, E.BAIRRO_END, COUNT(I.OBJCOD_OBJBASE), U.NOME_CLI FROM CIDADE C, ENDERECO E, ITEMTRANSPORTE I, CLIENTE U, ENCOMENDA N WHERE N.ESTADO_ENC = 1 AND N.ENDERECOORIGEM_ENC_OBJCOD_OBJBASE = E.OBJCOD_OBJBASE  AND E.CIDADE_END_OBJCOD_OBJBASE = C.OBJCOD_OBJBASE AND N.OBJCOD_OBJBASE = I.ENCOMENDA_ITEM_OBJCOD_OBJBASE  AND N.CLIENTEORIGEM_ENC_OBJCOD_OBJBASE = U.OBJCOD_OBJBASE ORDER BY C.NOME_CID;


SELECT N.CODIGOIDENT_ENC, C.NOME_CID, E.LOGRADOURO_END, E.BAIRRO_END, COUNT(I.OBJCOD_OBJBASE), U.NOME_CLI FROM CIDADE C, ENDERECO E, ITEMTRANSPORTE I, CLIENTE U, ENCOMENDA N WHERE N.ESTADO_ENC = 1 AND N.ENDERECOORIGEM_ENC_OBJCOD_OBJBASE = E.OBJCOD_OBJBASE  AND E.CIDADE_END_OBJCOD_OBJBASE = C.OBJCOD_OBJBASE AND N.OBJCOD_OBJBASE = I.ENCOMENDA_ITEM_OBJCOD_OBJBASE  AND N.CLIENTEORIGEM_ENC_OBJCOD_OBJBASE = U.OBJCOD_OBJBASE GROUP BY C.NOME_CID ORDER BY C.NOME_CID;